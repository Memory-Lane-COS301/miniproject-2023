<ng-container *ngIf="user$ | async as user; else loading">
  <form [formGroup]="userDetailsForm" ngxsForm="user.userDetailsForm" (submit)="updateAccountDetails()">
    <ion-card *ngIf="user as user">
      <ion-card-header>
        <ion-card-title class="ion-align-items-center">
          User Details
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-list>
          <ion-item class="ion-no-padding">
            <ion-label position="floating" class="required">Name</ion-label>
            <ion-input
              type="text"
              minlength="4"
              maxlength="64"
              required="true"
              placeholder="Enter name"
              formControlName="name"
              [value]="user.name"
              autocomplete="name"
            ></ion-input>
          </ion-item>
          <!-- <ion-text
            *ngIf="displayName?.invalid && (displayName?.dirty || displayName?.touched)"
            class="ion-padding-start"
            color="danger"
          >
            <small>{{ displayNameError }}</small>
          </ion-text>
          <ion-item class="ion-no-padding">
            <ion-label position="floating" class="required">Email</ion-label>
            <ion-input
              type="email"
              minlength="4"
              maxlength="64"
              required="true"
              placeholder="Enter email"
              formControlName="email"
              [value]="accountDetails.email"
              autocomplete="email"
            ></ion-input>
          </ion-item>
          <ion-text *ngIf="email?.invalid && (email?.dirty || email?.touched)" class="ion-padding-start" color="danger">
            <small>{{ emailError }}</small>
          </ion-text>
          <ion-item class="ion-no-padding">
            <ion-label position="floating" class="required"> Password </ion-label>
            <ion-input
              type="password"
              minlength="4"
              maxlength="64"
              placeholder="Enter password"
              required="true"
              formControlName="password"
              autocomplete="password"
            ></ion-input>
          </ion-item>
          <ion-text
            *ngIf="password?.invalid && (password?.dirty || password?.touched)"
            class="ion-padding-start"
            color="danger"
          >
            <small>{{ passwordError }}</small>
          </ion-text> -->
        </ion-list>
      </ion-card-content>
      <ion-button fill="clear" class="ion-float-left" type="button" (click)="logout()" color="danger">
        Logout
      </ion-button>
      <ion-button fill="clear" class="ion-float-right" type="submit">Save</ion-button>
    </ion-card>
  </form>
</ng-container>
<ng-template #loading>
  <ion-grid>
    <ion-row>
      <ion-col>
        <ngx-skeleton-loader count="1" [theme]="{ height: '150px' }" appearance="line"></ngx-skeleton-loader>
      </ion-col>
    </ion-row>
  </ion-grid>
</ng-template>
