<ion-menu contentId="main-content" side="end" ngClass="burger-menu">
  <ion-content ngClass="menu-sidebar" class="ion-padding">
    <ion-header ngClass="menu-heading">
      <ion-text ngClass="menu-heading-text">Menu</ion-text>
      <ion-menu-button ngClass="btn-menu-exit" (click)="toggleMenuStatus()">
        <ion-icon name="close" ngClass="btn-menu-exit-text"></ion-icon>
      </ion-menu-button>
    </ion-header>
    <ion-list ngClass="menu-list">
      <ion-nav-link [routerLink]="['profile']" [queryParams]="{ from: 'profile-view'}">
        <ion-item ngClass="menu-list-item" lines="none">
          <ion-icon slot="start" name="settings"></ion-icon>
          <ion-text ngClass="menu-list-item-text">Profile Settings</ion-text>
        </ion-item>
      </ion-nav-link>
      <ion-item ngClass="menu-list-item" lines="none">
        <ion-icon slot="start" name="cloud-upload"></ion-icon>
        <ion-text (click)="revive()" ngClass="menu-list-item-text">Revive Memory</ion-text>
      </ion-item>
      <ion-item ngClass="menu-list-item" lines="none">
        <ion-icon slot="start" name="create"></ion-icon>
        <ion-text (click)="editProfilePhoto()" ngClass="menu-list-item-text">Edit profile photo</ion-text>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-menu>

<ion-header id="main-content">
  <ion-toolbar ngClass="top-bar">
    <ion-buttons (click)="addMemory()" slot="start">
      <ion-icon name="add" color="light" ngClass="add-btn"></ion-icon>
    </ion-buttons>
    <ion-buttons slot="end" (click)="toggleMenuStatus()">
      <ion-menu-button ngClass="burger-menu" auto-hide="false"></ion-menu-button>
    </ion-buttons>
    <ion-title ngClass="title">Memory Lane</ion-title>
  </ion-toolbar>
</ion-header>


<ion-content color="dark">
  <ion-refresher slot="fixed" [pullFactor]="0.5" [pullMin]="100" [pullMax]="200" (ionRefresh)="handleRefresh($event)">
    <ion-refresher-content ngClass="refresher"></ion-refresher-content>
  </ion-refresher>

  <ion-grid ngClass="heading-grid" *ngIf="user$ | async as user">
    <ion-row ngClass="heading-grid-row" class="ion-text-center">
      <ion-col ngClass="heading-grid-row-col1">
        <ion-text ngClass="heading-grid-row-col1-title">Friends</ion-text><br />
        <ion-text ngClass="friend-memories-count">{{ user.friendCount }}</ion-text>
      </ion-col>
      <ion-col ngClass="heading-grid-row-col2">
        <ion-avatar ngClass="user-profile-img">
          <ion-img [src]="user.profileImgUrl"></ion-img><br />
        </ion-avatar>
        <ion-text ngClass="username">@{{ user.username }}</ion-text>
      </ion-col>
      <ion-col ngClass="heading-grid-row-col3">
        <ion-text ngClass="heading-grid-row-col3-title">Memories</ion-text><br />
        <ion-text ngClass="friend-memories-count">{{ user.memoryCount }}</ion-text>
      </ion-col>
    </ion-row>
  
    <ion-row ngClass="account-time">
      <ion-text ngClass="account-time-text">{{ formatTime(user.accountTime) }}</ion-text>
    </ion-row>
  </ion-grid>
  <ion-list ngClass="memory-list" *ngIf="memories$ | async as memories">
    <app-memory-card
      *ngFor="let memory of memories"
      [memory]="memory"
      [onProfileView]="true"
      (postClick)="onPostClick($event)"
    ></app-memory-card>
  </ion-list>
</ion-content>

